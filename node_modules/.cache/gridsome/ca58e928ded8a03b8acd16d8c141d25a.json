{"remainingRequest":"/Users/dev/Projects/new/zvekov/frontend_gridsome/node_modules/babel-loader/lib/index.js??ref--1-1!/Users/dev/Projects/new/zvekov/frontend_gridsome/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/dev/Projects/new/zvekov/frontend_gridsome/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/dev/Projects/new/zvekov/frontend_gridsome/src/components/atoms/search/List.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/dev/Projects/new/zvekov/frontend_gridsome/src/components/atoms/search/List.vue","mtime":1603649385932},{"path":"/Users/dev/Projects/new/zvekov/frontend_gridsome/node_modules/cache-loader/dist/cjs.js","mtime":1603648050611},{"path":"/Users/dev/Projects/new/zvekov/frontend_gridsome/node_modules/babel-loader/lib/index.js","mtime":1603648050172},{"path":"/Users/dev/Projects/new/zvekov/frontend_gridsome/node_modules/cache-loader/dist/cjs.js","mtime":1603648050611},{"path":"/Users/dev/Projects/new/zvekov/frontend_gridsome/node_modules/vue-loader/lib/index.js","mtime":1603648055436}],"contextDependencies":[],"result":["import \"core-js/modules/es.array.concat\";\nimport \"core-js/modules/es.array.flat\";\nimport \"core-js/modules/es.array.index-of\";\nimport \"core-js/modules/es.array.join\";\nimport \"core-js/modules/es.array.map\";\nimport \"core-js/modules/es.array.reduce\";\nimport \"core-js/modules/es.array.reverse\";\nimport \"core-js/modules/es.array.slice\";\nimport \"core-js/modules/es.array.sort\";\nimport \"core-js/modules/es.array.unscopables.flat\";\nimport \"core-js/modules/es.object.to-string\";\nimport \"core-js/modules/es.regexp.constructor\";\nimport \"core-js/modules/es.regexp.exec\";\nimport \"core-js/modules/es.regexp.to-string\";\nimport \"core-js/modules/es.set\";\nimport \"core-js/modules/es.string.iterator\";\nimport \"core-js/modules/es.string.match-all\";\nimport \"core-js/modules/es.string.search\";\nimport \"core-js/modules/es.string.split\";\nimport \"core-js/modules/web.dom-collections.iterator\";\nimport _toConsumableArray from \"/Users/dev/Projects/new/zvekov/frontend_gridsome/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nfunction findInString(haystack, needle) {\n  return _toConsumableArray(haystack.matchAll(new RegExp(needle, 'gi'))).map(function (match) {\n    return match.index;\n  });\n}\n\nfunction findPartsInString(haystack, needles) {\n  return needles.split(' ').map(function (needle) {\n    return findInString(haystack, needle).map(function (index) {\n      return [index, index + needle.length];\n    });\n  }).flat();\n}\n\nfunction numbersToRanges(positions) {\n  var leeway = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n  return _toConsumableArray(new Set(positions)).sort(function (a, b) {\n    return a - b;\n  }).reduce(function (p, c) {\n    if (!p.length) return [[c, c]];\n    if (p[p.length - 1][1] !== c - leeway) return [].concat(_toConsumableArray(p), [[c, c]]);\n    p[p.length - 1][1] = c;\n    return p;\n  }, []);\n}\n\nfunction rangeToNumbers(start, end) {\n  return _toConsumableArray(Array(end).keys()).slice(start);\n}\n\nfunction rangesToNumbers(ranges) {\n  return _toConsumableArray(new Set(ranges.map(function (range) {\n    return rangeToNumbers.apply(void 0, _toConsumableArray(range));\n  }).flat())).sort(function (a, b) {\n    return a - b;\n  });\n}\n\nfunction uniqueArray(list) {\n  return _toConsumableArray(new Set(list));\n}\n\nfunction deduplicateRanges(ranges) {\n  return numbersToRanges(rangesToNumbers(ranges));\n}\n\nfunction positions(haystack, needle) {\n  return findPartsInString(haystack, needle);\n}\n\nfunction tag(string, ranges) {\n  var tag = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'u';\n  return ranges.reverse().reduce(function (p, c) {\n    return insertTag(p, tag, c[0], c[1] + 1);\n  }, string);\n}\n\nfunction insertString(string, insert, position) {\n  return position > string.length ? string : [string.slice(0, position), insert, string.slice(position)].join('');\n}\n\nfunction insertTag(string, tag, start, end) {\n  return insertString(insertString(string, \"</\".concat(tag, \">\"), end), \"<\".concat(tag, \">\"), start);\n}\n\nexport default {\n  props: ['value'],\n  data: function data() {\n    return {\n      items: []\n    };\n  },\n  computed: {\n    searchResults: function searchResults() {\n      if (this.value.length < 3) return [];\n      return this.$search.search({\n        query: this.value,\n        limit: 999\n      });\n    }\n  },\n  methods: {\n    boldNew: function boldNew(result) {\n      return tag(result, deduplicateRanges(findPartsInString(result, this.value)));\n    },\n    bold: function bold(result) {\n      var pos = result.toLowerCase().indexOf(this.value.toLowerCase());\n      return pos === -1 ? result : \"\".concat(result.substr(0, pos), \"<b>\").concat(result.substr(pos, this.value.length), \"</b>\").concat(result.substr(pos + this.value.length));\n    }\n  }\n};",{"version":3,"sources":["List.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n\t<ul v-if=\"value.length >= 3\" class=\"font-medium\">\n\t\t<li v-for=\"result in searchResults\" :key=\"result.id\">\n\t\t\t<g-link :to=\"result.path\" :title=\"result.index\"><span v-html=\"boldNew(result.title)\" /></g-link>\n\t\t</li>\n\t\t<li v-if=\"!searchResults.length\">\n\t\t\t<em>Sorry, no results found</em>\n\t\t</li>\n\t</ul>\n</template>\n\n<script>\n\tfunction findInString(haystack, needle) {\n\t\treturn [...haystack.matchAll(new RegExp(needle, 'gi'))].map((match) => match.index);\n\t}\n\tfunction findPartsInString(haystack, needles) {\n\t\treturn needles.split(' ').map((needle) => findInString(haystack, needle).map((index) => [index, index + needle.length])).flat();\n\t}\n\tfunction numbersToRanges(positions, leeway = 1) {\n\t\treturn [...new Set(positions)].sort((a, b) => a - b).reduce((p, c) => {\n\t\t\tif (!p.length) return [[c, c]];\n\t\t\tif (p[p.length - 1][1] !== c - leeway) return [...p, [c, c]];\n\t\t\tp[p.length -1 ][1] = c;\n\t\t\treturn p;\n\t\t}, []);\n\t}\n\tfunction rangeToNumbers(start, end) {\n\t\treturn [...Array(end).keys()].slice(start);\n\t}\n\tfunction rangesToNumbers(ranges) {\n\t\treturn [...new Set(ranges.map((range) => rangeToNumbers(...range)).flat())].sort((a, b) => a - b);\n\t}\n\tfunction uniqueArray(list) {\n\t\treturn [...new Set(list)];\n\t}\n\tfunction deduplicateRanges(ranges) {\n\t\treturn numbersToRanges(rangesToNumbers(ranges));\n\t}\n\tfunction positions(haystack, needle) {\n\t\treturn findPartsInString(haystack, needle);\n\t}\n\tfunction tag(string, ranges, tag = 'u') {\n\t\treturn ranges.reverse().reduce((p, c) => insertTag(p, tag, c[0], c[1] + 1), string);\n\t}\n\tfunction insertString(string, insert, position) {\n\t\treturn position > string.length ? string : [string.slice(0, position), insert, string.slice(position)].join('');\n\t}\n\tfunction insertTag(string, tag, start, end) {\n\t\treturn insertString(insertString(string, `</${tag}>`, end), `<${tag}>`, start);\n\t}\n\texport default {\n\t\tprops: ['value'],\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\titems: [],\n\t\t\t};\n\t\t},\n\t\tcomputed: {\n\t\t\tsearchResults() {\n\t\t\t\tif (this.value.length < 3) return [];\n\t\t\t\treturn this.$search.search({query: this.value, limit: 999});\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tboldNew(result) {\n\t\t\t\treturn tag(result, deduplicateRanges(findPartsInString(result, this.value)));\n\t\t\t},\n\t\t\tbold(result) {\n\t\t\t\tconst pos = result.toLowerCase().indexOf(this.value.toLowerCase());\n\t\t\t\treturn pos === -1 ? result : `${result.substr(0, pos)}<b>${result.substr(pos, this.value.length)}</b>${result.substr(pos + this.value.length)}`;\n\t\t\t},\n\t\t},\n\t};\n</script>\n\n<style scoped lang=\"postcss\">\n\tli {\n\t\t@apply m-2;\n\t}\n</style>"],"sourceRoot":"src/components/atoms/search"}]}