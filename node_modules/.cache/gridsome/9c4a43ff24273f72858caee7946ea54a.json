{"remainingRequest":"/Users/dev/Projects/new/zvekov/frontend_gridsome/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/dev/Projects/new/zvekov/frontend_gridsome/src/components/atoms/search/List.vue?vue&type=style&index=0&id=21ad10d0&scoped=true&lang=postcss&","dependencies":[{"path":"/Users/dev/Projects/new/zvekov/frontend_gridsome/src/components/atoms/search/List.vue","mtime":1603649385932},{"path":"/Users/dev/Projects/new/zvekov/frontend_gridsome/node_modules/css-loader/dist/cjs.js","mtime":1603648051215},{"path":"/Users/dev/Projects/new/zvekov/frontend_gridsome/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1603648055437},{"path":"/Users/dev/Projects/new/zvekov/frontend_gridsome/node_modules/postcss-loader/src/index.js","mtime":1603648053766},{"path":"/Users/dev/Projects/new/zvekov/frontend_gridsome/node_modules/cache-loader/dist/cjs.js","mtime":1603648050611},{"path":"/Users/dev/Projects/new/zvekov/frontend_gridsome/node_modules/vue-loader/lib/index.js","mtime":1603648055436}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nli {\n\t@apply m-2;\n}\n",{"version":3,"sources":["List.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4EA;AACA;AACA","file":"List.vue","sourceRoot":"src/components/atoms/search","sourcesContent":["<template>\n\t<ul v-if=\"value.length >= 3\" class=\"font-medium\">\n\t\t<li v-for=\"result in searchResults\" :key=\"result.id\">\n\t\t\t<g-link :to=\"result.path\" :title=\"result.index\"><span v-html=\"boldNew(result.title)\" /></g-link>\n\t\t</li>\n\t\t<li v-if=\"!searchResults.length\">\n\t\t\t<em>Sorry, no results found</em>\n\t\t</li>\n\t</ul>\n</template>\n\n<script>\n\tfunction findInString(haystack, needle) {\n\t\treturn [...haystack.matchAll(new RegExp(needle, 'gi'))].map((match) => match.index);\n\t}\n\tfunction findPartsInString(haystack, needles) {\n\t\treturn needles.split(' ').map((needle) => findInString(haystack, needle).map((index) => [index, index + needle.length])).flat();\n\t}\n\tfunction numbersToRanges(positions, leeway = 1) {\n\t\treturn [...new Set(positions)].sort((a, b) => a - b).reduce((p, c) => {\n\t\t\tif (!p.length) return [[c, c]];\n\t\t\tif (p[p.length - 1][1] !== c - leeway) return [...p, [c, c]];\n\t\t\tp[p.length -1 ][1] = c;\n\t\t\treturn p;\n\t\t}, []);\n\t}\n\tfunction rangeToNumbers(start, end) {\n\t\treturn [...Array(end).keys()].slice(start);\n\t}\n\tfunction rangesToNumbers(ranges) {\n\t\treturn [...new Set(ranges.map((range) => rangeToNumbers(...range)).flat())].sort((a, b) => a - b);\n\t}\n\tfunction uniqueArray(list) {\n\t\treturn [...new Set(list)];\n\t}\n\tfunction deduplicateRanges(ranges) {\n\t\treturn numbersToRanges(rangesToNumbers(ranges));\n\t}\n\tfunction positions(haystack, needle) {\n\t\treturn findPartsInString(haystack, needle);\n\t}\n\tfunction tag(string, ranges, tag = 'u') {\n\t\treturn ranges.reverse().reduce((p, c) => insertTag(p, tag, c[0], c[1] + 1), string);\n\t}\n\tfunction insertString(string, insert, position) {\n\t\treturn position > string.length ? string : [string.slice(0, position), insert, string.slice(position)].join('');\n\t}\n\tfunction insertTag(string, tag, start, end) {\n\t\treturn insertString(insertString(string, `</${tag}>`, end), `<${tag}>`, start);\n\t}\n\texport default {\n\t\tprops: ['value'],\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\titems: [],\n\t\t\t};\n\t\t},\n\t\tcomputed: {\n\t\t\tsearchResults() {\n\t\t\t\tif (this.value.length < 3) return [];\n\t\t\t\treturn this.$search.search({query: this.value, limit: 999});\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tboldNew(result) {\n\t\t\t\treturn tag(result, deduplicateRanges(findPartsInString(result, this.value)));\n\t\t\t},\n\t\t\tbold(result) {\n\t\t\t\tconst pos = result.toLowerCase().indexOf(this.value.toLowerCase());\n\t\t\t\treturn pos === -1 ? result : `${result.substr(0, pos)}<b>${result.substr(pos, this.value.length)}</b>${result.substr(pos + this.value.length)}`;\n\t\t\t},\n\t\t},\n\t};\n</script>\n\n<style scoped lang=\"postcss\">\n\tli {\n\t\t@apply m-2;\n\t}\n</style>"]}]}